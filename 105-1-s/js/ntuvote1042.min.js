function gebcn(e,t){return document.getElementsByClassName?e.getElementsByClassName(t):document.querySelectorAll?e.querySelectorAll("."+t):void 0}function PageObject(e){this.page=e,this.id=e.id,this.getPosition=function(){return this.page.offsetTop}}function LinkObject(e){this.block=e,e.getElementsByTagName("figure")[0]?this.block.fig=e.getElementsByTagName("figure")[0]:e.getElementsByTagName("img")[0]&&(this.block.fig=e.getElementsByTagName("img")[0]),this.block.addEventListener("mouseover",function(e){TweenLite.to(this.fig,.5,{top:"-0.5em",ease:Power2.easeOut})}),this.block.addEventListener("mouseout",function(e){TweenLite.to(this.fig,.5,{top:0,ease:Power2.easeOut})})}for(var nav_links=document.getElementById("page-nav").getElementsByTagName("li"),navObjs=[],NavigationObject=function(e){this.bar=e,this.pageid=e.getElementsByTagName("a")[0].getAttribute("href").split("#")[1],this.btn=e.getElementsByTagName("a")[0],this.bar.parentObject=this,this.scrolling=function(){var e=document.getElementById(this.pageid).offsetTop;return e},this.bar.addEventListener("mouseover",function(e){TweenLite.to(this.parentObject.btn,.5,{left:"-1.5em",ease:Power2.easeOut})}),this.bar.addEventListener("mouseout",function(e){TweenLite.to(this.parentObject.btn,.3,{left:"-2em",ease:Power2.easeOut})}),this.bar.addEventListener("click",function(e){e.preventDefault(),TweenLite.to(window,.8,{scrollTo:{y:this.parentObject.scrolling()},ease:Power2.easeOut})})},i=0;i!=nav_links.length;++i){var nNavObj=new NavigationObject(nav_links[i]);navObjs.push(nNavObj)}for(var headers=document.getElementById("timeline").getElementsByTagName("header"),collapses=gebcn(document,"timeline-event-collapse"),collapseBtns=gebcn(document,"timeline-event-btn"),colObjs=[],srcAll=collapseBtns[0].getElementsByTagName("img")[0].getAttribute("src").split("/"),src="",s=0;s!=srcAll.length-1;++s)src+=srcAll[s]+"/";for(var fixed_img=src+"circle.svg",CollapseObject=function(e,t,s){this.btn=t,this.collapse=e,this.header=s,t.getElementsByTagName("img")[0].getAttribute("src")==fixed_img?this.collapseAble=!1:this.collapseAble=!0,this.state=!0,this.btn.parentObject=this,this.header.parentObject=this,this.setInitHeight=function(){return this.collapse.style.height=null,this.collapse.setAttribute("data-initHeight",this.collapse.offsetHeight),this},this.initCollapse=function(){return this.state&&(this.collapse.style.height=0),this},this.openCollapse=function(){return TweenLite.to(this.collapse,.5,{height:this.collapse.getAttribute("data-initHeight"),ease:Power2.easeOut}),TweenLite.to(this.btn,.5,{css:{rotation:180,transformOrigin:"50% 50%"},ease:Power2.easeOut}),this.state=!1,this.collapse.style.marginBottom="4em",this},this.closeCollapse=function(){return TweenLite.to(this.collapse,.5,{height:0,ease:Power2.easeOut}),TweenLite.to(this.btn,.5,{css:{rotation:0,transformOrigin:"50% 50%"},ease:Power2.easeOut}),this.collapse.style.marginBottom=0,this.state=!0,this},this.btn.addEventListener("click",function(e){e.preventDefault(),this.parentObject.collapseAble&&(this.parentObject.state?this.parentObject.openCollapse():this.parentObject.closeCollapse())}),this.header.addEventListener("click",function(e){this.parentObject.collapseAble&&this.parentObject.state&&this.parentObject.openCollapse()})},i=0;i!=collapses.length;++i)nColObj=new CollapseObject(collapses[i],collapseBtns[i],headers[i]),nColObj.setInitHeight().initCollapse(),colObjs.push(nColObj);window.addEventListener("resize",function(){for(var e=0;e!=colObjs.length;++e)colObjs[e].setInitHeight().initCollapse()});for(var pages=gebcn(document,"page-height"),pageObjs=[],i=0;i!=pages.length;++i)nPageObj=new PageObject(pages[i]),pageObjs.push(nPageObj);window.addEventListener("scroll",function(e){var t=0;window.pageYOffset?t=window.pageYOffset:document.documentElement.scrollTop?t=document.documentElement.scrollTop:document.body.scrollTop&&(t=document.body.scrollTop);for(var s=0;s!=pageObjs.length;++s)nav_links[s].className="nav-link",pageObjs[s].getPosition()<=t&&(s>0&&(nav_links[s-1].className="nav-link"),nav_links[s].className="nav-link current")});for(var links=document.getElementsByTagName("li"),i=0;i!=links.length;++i)if(links[i].getElementsByTagName("img")[0])var nLinkObj=new LinkObject(links[i]);var news=document.getElementById("news-flow"),newsNum=gebcn(news,"news-card").length,newsCount=0;setInterval(function(){var e=gebcn(news,"news-card")[newsCount].offsetHeight;newsCount=newsNum-1>newsCount?newsCount+1:0;var t=-newsCount*e;TweenLite.to(news,1.5,{top:t,ease:Power2.easeOut})},1e3*document.getElementById("news").getAttribute("data-time"));
